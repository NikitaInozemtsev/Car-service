
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content>
    <meta name="author" content>
    <title>Change password</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script>
        async function checkPasswordMatch() {
            var password = $("#ps1").val();
            var confirmPassword = $("#ps2").val();
            var ps = $("#ps").val();

            if(password != "" && confirmPassword != "" && ps != "") {


            if (password != confirmPassword)
                alert("Пароли не совпадают!");
            else {

                var form = $("form");

                  form.submit()

            }
            }
        }
    </script>

</head>
<body>

<form class="was-validated mx-2 my-2 w-50" action="#" th:action="@{/changepassword}" method="post">
    <span style="color:red" th:if="${error}" th:text="${error}"></span>
    <input type="password" id="ps" name="oldPassword" th:name="oldPassword" class="form-control form-control-sm" placeholder="Старый пароль" required>
    <input type="password" id="ps1" name="newPassword" th:name="newPassword" class="form-control form-control-sm" placeholder="Новый пароль" required>
    <input type="password" id="ps2" name="check"  class="form-control form-control-sm" placeholder="Повторите пароль" required><br>

    <button onclick="checkPasswordMatch()" class="btn btn-primary">Отправить</button>
</form>
<a class="mx-2" href="/">Домой</a>


</body>
</html>