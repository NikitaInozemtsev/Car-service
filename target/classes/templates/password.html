
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content>
    <meta name="author" content>
    <title>Change password</title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script>
        async function checkPasswordMatch() {
            var password = $("#ps1").val();
            var confirmPassword = $("#ps2").val();
            var ps = $("#ps").val();

            if(password != "" && confirmPassword != "" && ps != "") {


            if (password != confirmPassword)
                alert("Пароли не совпадают!");
            else {

                var form = $("form");

                  form.submit()

            }
            }
        }
    </script>
</head>
<body>

<form action="#" th:action="@{/changepassword}" method="post">
    <input type="password" id="ps" name="oldPassword" th:name="oldPassword" class="form-control" placeholder="Старый пароль" required> <span style="color:red" th:if="${error}" th:text="${error}"></span><br>
    <input type="password" id="ps1" name="newPassword" th:name="newPassword" class="form-control" placeholder="Новый пароль" required><br>
    <input type="password" id="ps2" name="check"  class="form-control" placeholder="Повторите пароль" required><br>


</form>

<button onclick="checkPasswordMatch()" >Отправить</button>

</body>
</html>